# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

## üêõ –ü—Ä–æ–±–ª–µ–º–∞
–ú–∞–ª—ã—à –Ω–µ –ø—Ä–æ—Å—ã–ø–∞–ª—Å—è –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–∫–æ—Ä–º–ª–µ–Ω–∏–µ, —Å–º–µ–Ω–∞ –ø–æ–¥–≥—É–∑–Ω–∏–∫–∞, –∫—É–ø–∞–Ω–∏–µ), —Ö–æ—Ç—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ "–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏" –±—ã–ª–∞ –≤–∫–ª—é—á–µ–Ω–∞.

## üîç –ü—Ä–∏—á–∏–Ω–∞
–§—É–Ω–∫—Ü–∏–∏ `addFeeding()`, `addDiaper()` –∏ `addBath()` –≤ `dataService.ts` –¥–æ–±–∞–≤–ª—è–ª–∏ –∑–∞–ø–∏—Å–∏ —Ç–æ–ª—å–∫–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã (`feedings`, `diapers`, `baths`), –Ω–æ **–ù–ï** –¥–æ–±–∞–≤–ª—è–ª–∏ –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü—É `activities`. 

–¢—Ä–∏–≥–≥–µ—Ä `wake_on_activity_trigger` —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –≤ —Ç–∞–±–ª–∏—Ü—É `activities`, –ø–æ—ç—Ç–æ–º—É –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ
–û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `src/services/dataService.ts`:

### 1. `addFeeding()` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞:
```typescript
// –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å –≤ activities –¥–ª—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Ç—Ä–∏–≥–≥–µ—Ä–∞ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è
await this.addActivity('feeding')
```

### 2. `addDiaper()` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞:
```typescript
// –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å –≤ activities –¥–ª—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Ç—Ä–∏–≥–≥–µ—Ä–∞ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è
await this.addActivity('diaper')
```

### 3. `addBath()` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞:
```typescript
// –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å –≤ activities –¥–ª—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Ç—Ä–∏–≥–≥–µ—Ä–∞ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è
await this.addActivity('bath')
```

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–ø–µ—Ä—å

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∫–æ—Ä–º–ª–µ–Ω–∏–µ** ‚Üí `addFeeding()` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `feedings` + –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ `activities`
2. **–¢—Ä–∏–≥–≥–µ—Ä —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç** ‚Üí `wake_on_activity_trigger` –Ω–∞ —Ç–∞–±–ª–∏—Ü–µ `activities`
3. **–§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è** ‚Üí `wake_on_activity()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É `wake_on_activity_enabled`
4. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–Ω–∞** ‚Üí `end_all_family_sleep_sessions()` –∑–∞–≤–µ—Ä—à–∞–µ—Ç –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏ —Å–Ω–∞
5. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** ‚Üí `pg_notify('baby_woke_up')` —É–≤–µ–¥–æ–º–ª—è–µ—Ç –≤—Å–µ—Ö —á–ª–µ–Ω–æ–≤ —Å–µ–º—å–∏
6. **UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "üåÖ –ú–∞–ª—ã—à –ø—Ä–æ—Å–Ω—É–ª—Å—è –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏!"

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç
–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –ª—é–±–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–∫–æ—Ä–º–ª–µ–Ω–∏–µ, —Å–º–µ–Ω–∞ –ø–æ–¥–≥—É–∑–Ω–∏–∫–∞, –∫—É–ø–∞–Ω–∏–µ) –º–∞–ª—ã—à –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ—Å—ã–ø–∞—Ç—å—Å—è, –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞.

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ frontend –∫–æ–¥
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã –æ—Å—Ç–∞–ª–∏—Å—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
