-- –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π BabyBot
-- –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑–æ–≤—ã–º–∏ —Ç–∏–ø–∞–º–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏

-- –í—Å—Ç–∞–≤–∫–∞ —Ç–∏–ø–æ–≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
INSERT INTO achievement_types (name, description, icon, color) VALUES
('–°–µ—Ä–∏–∏ (Streaks)', '–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–¥—Ä—è–¥', 'üî•', '#FF6B6B'),
('–ö–æ–º–±–æ –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏', '–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π', '‚ö°', '#4ECDC4'),
('–û–∫–Ω–∞ –≤—Ä–µ–º–µ–Ω–∏', '–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –¥–µ–π—Å—Ç–≤–∏—è –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è', '‚è∞', '#45B7D1'),
('–†–∏—Ç–º –∏ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å', '–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω—ã–π —É—Ö–æ–¥', 'üéµ', '#96CEB4'),
('–û–±—É—á–∞—é—â–∏–µ/–º—è–≥–∫–∏–µ', '–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–æ—â—Ä–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è', 'üìö', '#FFEAA7'),
('–†–µ–¥–∫–∏–µ/–∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ', '–û—Å–æ–±—ã–µ –∏ —Ä–µ–¥–∫–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è', 'üíé', '#DDA0DD')
ON CONFLICT (name) DO NOTHING;

-- –í—Å—Ç–∞–≤–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
INSERT INTO achievements (type_id, name, description, icon, color, rarity, points, coins_reward, criteria) VALUES
-- –°–µ—Ä–∏–∏ –∫–æ—Ä–º–ª–µ–Ω–∏—è
(1, '–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏', '–ü–æ–∫–æ—Ä–º–∏–ª –º–∞–ª—ã—à–∞ 3 —Ä–∞–∑–∞ –ø–æ–¥—Ä—è–¥', 'üçº', '#FF6B6B', 'common', 10, 5, '{"type": "feeding_streak", "target": 3, "timeframe": "day"}'),
(1, '–†–µ–≥—É–ª—è—Ä–Ω—ã–π —É—Ö–æ–¥', '–ü–æ–∫–æ—Ä–º–∏–ª –º–∞–ª—ã—à–∞ 5 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥', 'üçº', '#FF6B6B', 'rare', 25, 15, '{"type": "feeding_streak", "target": 5, "timeframe": "day"}'),
(1, '–ú–∞—Å—Ç–µ—Ä –∫–æ—Ä–º–ª–µ–Ω–∏—è', '–ü–æ–∫–æ—Ä–º–∏–ª –º–∞–ª—ã—à–∞ 7 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥', 'üçº', '#FF6B6B', 'epic', 50, 30, '{"type": "feeding_streak", "target": 7, "timeframe": "day"}'),
(1, '–õ–µ–≥–µ–Ω–¥–∞ –∫–æ—Ä–º–ª–µ–Ω–∏—è', '–ü–æ–∫–æ—Ä–º–∏–ª –º–∞–ª—ã—à–∞ 10 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥', 'üçº', '#FF6B6B', 'legendary', 100, 60, '{"type": "feeding_streak", "target": 10, "timeframe": "day"}'),

-- –°–µ—Ä–∏–∏ —Å–º–µ–Ω—ã –ø–æ–¥–≥—É–∑–Ω–∏–∫–æ–≤
(1, '–ß–∏—Å—Ç—é–ª—è', '–°–º–µ–Ω–∏–ª –ø–æ–¥–≥—É–∑–Ω–∏–∫ 3 —Ä–∞–∑–∞ –ø–æ–¥—Ä—è–¥', 'üë∂', '#4ECDC4', 'common', 10, 5, '{"type": "diaper_streak", "target": 3, "timeframe": "day"}'),
(1, '–ó–∞–±–æ—Ç–ª–∏–≤—ã–π —Ä–æ–¥–∏—Ç–µ–ª—å', '–°–º–µ–Ω–∏–ª –ø–æ–¥–≥—É–∑–Ω–∏–∫ 5 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥', 'üë∂', '#4ECDC4', 'rare', 25, 15, '{"type": "diaper_streak", "target": 5, "timeframe": "day"}'),
(1, '–≠–∫—Å–ø–µ—Ä—Ç –ø–æ –ø–æ–¥–≥—É–∑–Ω–∏–∫–∞–º', '–°–º–µ–Ω–∏–ª –ø–æ–¥–≥—É–∑–Ω–∏–∫ 7 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥', 'üë∂', '#4ECDC4', 'epic', 50, 30, '{"type": "diaper_streak", "target": 7, "timeframe": "day"}'),
(1, '–ú–∞—Å—Ç–µ—Ä —á–∏—Å—Ç–æ—Ç—ã', '–°–º–µ–Ω–∏–ª –ø–æ–¥–≥—É–∑–Ω–∏–∫ 10 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥', 'üë∂', '#4ECDC4', 'legendary', 100, 60, '{"type": "diaper_streak", "target": 10, "timeframe": "day"}'),

-- –ö–æ–º–±–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
(2, '–ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è', '–°–º–µ–Ω–∏–ª –ø–æ–¥–≥—É–∑–Ω–∏–∫ –∏ –ø–æ–∫–æ—Ä–º–∏–ª –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç', '‚ö°', '#FFD700', 'common', 15, 10, '{"type": "combo", "target": 2, "timeframe": "15_minutes", "actions": ["diaper", "feeding"]}'),
(2, '–°—É–ø–µ—Ä –∫–æ–º–±–æ', '–í—ã–ø–æ–ª–Ω–∏–ª 3 —Ä–∞–∑–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –º–∏–Ω—É—Ç', '‚ö°', '#FFD700', 'rare', 35, 25, '{"type": "combo", "target": 3, "timeframe": "30_minutes", "actions": ["diaper", "feeding", "bath"]}'),
(2, '–ú–∞—Å—Ç–µ—Ä –∫–æ–º–±–æ', '–í—ã–ø–æ–ª–Ω–∏–ª 4 —Ä–∞–∑–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è –≤ —Ç–µ—á–µ–Ω–∏–µ 1 —á–∞—Å–∞', '‚ö°', '#FFD700', 'epic', 75, 50, '{"type": "combo", "target": 4, "timeframe": "1_hour", "actions": ["diaper", "feeding", "bath", "activity"]}'),
(2, '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ –∫–æ–º–±–æ', '–í—ã–ø–æ–ª–Ω–∏–ª 5 —Ä–∞–∑–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —á–∞—Å–æ–≤', '‚ö°', '#FFD700', 'legendary', 150, 100, '{"type": "combo", "target": 5, "timeframe": "2_hours", "actions": ["diaper", "feeding", "bath", "activity", "sleep"]}'),

-- –û–∫–Ω–∞ –≤—Ä–µ–º–µ–Ω–∏
(3, '–†–∞–Ω–Ω—è—è –ø—Ç–∞—à–∫–∞', '–ü–æ–∫–æ—Ä–º–∏–ª –º–∞–ª—ã—à–∞ –¥–æ 7 —É—Ç—Ä–∞', 'üåÖ', '#45B7D1', 'common', 10, 5, '{"type": "time_window", "action": "feeding", "start_time": "00:00", "end_time": "07:00"}'),
(3, '–ù–æ—á–Ω–æ–π —Å—Ç—Ä–∞–∂', '–ü–æ–∫–æ—Ä–º–∏–ª –º–∞–ª—ã—à–∞ –º–µ–∂–¥—É 22:00 –∏ 06:00', 'üåô', '#45B7D1', 'rare', 25, 15, '{"type": "time_window", "action": "feeding", "start_time": "22:00", "end_time": "06:00"}'),
(3, '–ü–æ–ª–Ω–æ—á–Ω—ã–π –≥–µ—Ä–æ–π', '–°–º–µ–Ω–∏–ª –ø–æ–¥–≥—É–∑–Ω–∏–∫ –º–µ–∂–¥—É 00:00 –∏ 03:00', 'üåô', '#45B7D1', 'epic', 50, 30, '{"type": "time_window", "action": "diaper", "start_time": "00:00", "end_time": "03:00"}'),

-- –†–∏—Ç–º –∏ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å
(4, '–†–∏—Ç–º–∏—á–Ω—ã–π —É—Ö–æ–¥', '–ö–æ—Ä–º–∏–ª –º–∞–ª—ã—à–∞ –∫–∞–∂–¥—ã–µ 3 —á–∞—Å–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è', 'üéµ', '#96CEB4', 'rare', 30, 20, '{"type": "rhythm", "action": "feeding", "interval_hours": 3, "target_count": 5}'),
(4, '–ò–¥–µ–∞–ª—å–Ω—ã–π —Ä–∏—Ç–º', '–ö–æ—Ä–º–∏–ª –º–∞–ª—ã—à–∞ –∫–∞–∂–¥—ã–µ 2.5 —á–∞—Å–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è', 'üéµ', '#96CEB4', 'epic', 60, 40, '{"type": "rhythm", "action": "feeding", "interval_hours": 2.5, "target_count": 6}'),
(4, '–ú–∞—Å—Ç–µ—Ä —Ä–∏—Ç–º–∞', '–ö–æ—Ä–º–∏–ª –º–∞–ª—ã—à–∞ –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è', 'üéµ', '#96CEB4', 'legendary', 120, 80, '{"type": "rhythm", "action": "feeding", "interval_hours": 2, "target_count": 8}'),

-- –û–±—É—á–∞—é—â–∏–µ/–º—è–≥–∫–∏–µ
(5, '–ü–µ—Ä–≤—ã–π –¥–µ–Ω—å', '–ó–∞–ø–∏—Å–∞–ª –ø–µ—Ä–≤–æ–µ –∫–æ—Ä–º–ª–µ–Ω–∏–µ', 'üåü', '#FFEAA7', 'common', 5, 3, '{"type": "first_action", "action": "feeding"}'),
(5, '–ù–∞—á–∞–ª–æ –ø—É—Ç–∏', '–ó–∞–ø–∏—Å–∞–ª –ø–µ—Ä–≤—É—é —Å–º–µ–Ω—É –ø–æ–¥–≥—É–∑–Ω–∏–∫–∞', 'üåü', '#FFEAA7', 'common', 5, 3, '{"type": "first_action", "action": "diaper"}'),
(5, '–ü–µ—Ä–≤–æ–µ –∫—É–ø–∞–Ω–∏–µ', '–ó–∞–ø–∏—Å–∞–ª –ø–µ—Ä–≤–æ–µ –∫—É–ø–∞–Ω–∏–µ', 'üåü', '#FFEAA7', 'common', 5, 3, '{"type": "first_action", "action": "bath"}'),
(5, '–ü–µ—Ä–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å', '–ó–∞–ø–∏—Å–∞–ª –ø–µ—Ä–≤—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å', 'üåü', '#FFEAA7', 'common', 5, 3, '{"type": "first_action", "action": "activity"}'),
(5, '–ù–µ–¥–µ–ª—è –∑–∞–±–æ—Ç—ã', '–í–µ–ª —É—á–µ—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 7 –¥–Ω–µ–π', 'üìÖ', '#FFEAA7', 'rare', 50, 30, '{"type": "consistency", "days": 7}'),
(5, '–ú–µ—Å—è—Ü –∑–∞–±–æ—Ç—ã', '–í–µ–ª —É—á–µ—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π', 'üìÖ', '#FFEAA7', 'epic', 200, 120, '{"type": "consistency", "days": 30}'),

-- –†–µ–¥–∫–∏–µ/–∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ
(6, '–ó–æ–ª–æ—Ç–∞—è —Ä—É–∫–∞', '–ö–æ—Ä–º–∏–ª –º–∞–ª—ã—à–∞ —Ä–æ–≤–Ω–æ –≤ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è 5 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥', 'üëë', '#DDA0DD', 'legendary', 200, 150, '{"type": "perfect_timing", "action": "feeding", "tolerance_minutes": 5, "streak": 5}'),
(6, '–ö—Ä–∏—Å—Ç–∞–ª—å–Ω–∞—è —á–∏—Å—Ç–æ—Ç–∞', '–°–º–µ–Ω–∏–ª –ø–æ–¥–≥—É–∑–Ω–∏–∫ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∫–æ—Ä–º–ª–µ–Ω–∏—è 10 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥', 'üíé', '#DDA0DD', 'legendary', 300, 200, '{"type": "perfect_sequence", "sequence": ["feeding", "diaper"], "streak": 10}'),
(6, '–ú–∞—Å—Ç–µ—Ä –≤—Å–µ—Ö –¥–µ–ª', '–ü–æ–ª—É—á–∏–ª –≤—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞', 'üèÜ', '#DDA0DD', 'legendary', 500, 300, '{"type": "collection_complete", "achievement_type": "all"}'),
(6, '–õ–µ–≥–µ–Ω–¥–∞ —Å–µ–º—å–∏', '–ü–æ–ª—É—á–∏–ª 50 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π', 'üëë', '#DDA0DD', 'legendary', 1000, 500, '{"type": "total_count", "target": 50}'),
(6, '–ò–º–ø–µ—Ä–∞—Ç–æ—Ä –∑–∞–±–æ—Ç—ã', '–ü–æ–ª—É—á–∏–ª 100 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π', 'üëë', '#DDA0DD', 'legendary', 2000, 1000, '{"type": "total_count", "target": 100}');

-- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–µ–º–µ–π
INSERT INTO family_achievement_stats (family_id, total_achievements, total_points, total_coins_earned)
SELECT id, 0, 0, 0
FROM families
WHERE id NOT IN (SELECT family_id FROM family_achievement_stats)
ON CONFLICT (family_id) DO NOTHING;
