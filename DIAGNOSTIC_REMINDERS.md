# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è (–∫–æ—Ä–º–ª–µ–Ω–∏–µ/–ø–æ–¥–≥—É–∑–Ω–∏–∫) –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
üìÖ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –∫–æ—Ä–º–ª–µ–Ω–∏–∏: {...}
‚è∞ –í—Ä–µ–º—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫–æ—Ä–º–ª–µ–Ω–∏—è: ...
‚è∞ –í—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è: ...
‚è∞ –î–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è: X –º–∏–Ω—É—Ç
‚úÖ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –∫–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ ...
```

–ï—Å–ª–∏ —ç—Ç–∏—Ö –ª–æ–≥–æ–≤ –Ω–µ—Ç - –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –Ω–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è.

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –ë–î

–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```javascript
// –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_FAMILY_ID –Ω–∞ ID –≤–∞—à–µ–π —Å–µ–º—å–∏
window.debugReminders.checkScheduledReminders(YOUR_FAMILY_ID)
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è.

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–ø–∏—Å–∫–∏

```javascript
window.debugReminders.checkPushSubscriptions(YOUR_FAMILY_ID)
```

–ï—Å–ª–∏ –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–µ—Ç - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏–¥—É—Ç!

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

–í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:
- `Starting reminder processor...` - –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- `‚úÖ Processed X reminders: Y sent, Z failed` - –∫–æ–≥–¥–∞ –Ω–∞–π–¥–µ–Ω—ã –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

–ï—Å–ª–∏ –ª–æ–≥–æ–≤ –Ω–µ—Ç - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

## –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –°–æ–∑–¥–∞—é—Ç—Å—è –ª–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è?

**–®–∞–≥ 1:** –î–æ–±–∞–≤—å—Ç–µ —Å–æ–±—ã—Ç–∏–µ (–∫–æ—Ä–º–ª–µ–Ω–∏–µ/–ø–æ–¥–≥—É–∑–Ω–∏–∫)

**–®–∞–≥ 2:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ—Ç–∞–ª–∏

**–®–∞–≥ 3:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ë–î –Ω–∞–ø—Ä—è–º—É—é:
```sql
SELECT * FROM scheduled_reminders 
WHERE family_id = YOUR_FAMILY_ID 
AND status = 'pending'
ORDER BY scheduled_time DESC;
```

**–ï—Å–ª–∏ –∑–∞–ø–∏—Å–µ–π –Ω–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ (feed_interval, diaper_interval)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –Ω–∞ –æ—à–∏–±–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –Ω–µ 0

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫?

**–®–∞–≥ 1:** –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

**–®–∞–≥ 2:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
- `Starting reminder processor...` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- `‚úÖ Processed X reminders` - –∫–æ–≥–¥–∞ –Ω–∞–π–¥–µ–Ω—ã –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

**–®–∞–≥ 3:** –ï—Å–ª–∏ –ª–æ–≥–æ–≤ –Ω–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ)
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

**–®–∞–≥ 4:** –í—Ä—É—á–Ω—É—é –≤—ã–∑–æ–≤–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É:
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
fetch('/api/push/process-reminders', { method: 'POST' })
  .then(r => r.json())
  .then(console.log)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≤—Ä–µ–º—è?

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø—Ä–æ—à–ª–æ–º

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏:
```
‚è∞ –î–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è: X –º–∏–Ω—É—Ç
```

–ï—Å–ª–∏ X –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ - –≤—Ä–µ–º—è —É–∂–µ –ø—Ä–æ—à–ª–æ. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –µ—Å–ª–∏:
- –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π
- –°–æ–±—ã—Ç–∏–µ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ —Å timestamp –≤ –ø—Ä–æ—à–ª–æ–º

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: –ï—Å—Ç—å –ª–∏ –ø–æ–¥–ø–∏—Å–∫–∏?

**–ö—Ä–∏—Ç–∏—á–Ω–æ:** –ë–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤—è—Ç—Å—è!

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```javascript
window.debugReminders.checkPushSubscriptions(YOUR_FAMILY_ID)
```

–ï—Å–ª–∏ –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–µ—Ç:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 5: –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç API?

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Vercel):**
- `[process-reminders] Found X reminder(s) to process`
- `[process-reminders] Processing reminder ...`

**–ï—Å–ª–∏ –ª–æ–≥–æ–≤ –Ω–µ—Ç:**
- API –º–æ–∂–µ—Ç –Ω–µ –≤—ã–∑—ã–≤–∞—Ç—å—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ reminderProcessor —Ä–∞–±–æ—Ç–∞–µ—Ç

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö (–Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 0)
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–µ –≤ –ø—Ä–æ—à–ª–æ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è, –Ω–æ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** 
- –ù–µ—Ç –ø–æ–¥–ø–∏—Å–æ–∫
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –í—Ä–µ–º—è —É–∂–µ –ø—Ä–æ—à–ª–æ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–ø–∏—Å–∫–∏: `window.debugReminders.checkPushSubscriptions(familyId)`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –≤ –ë–î

### –ü—Ä–æ–±–ª–µ–º–∞: –í—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –ø—Ä–æ—à–ª–æ–º

**–ü—Ä–∏—á–∏–Ω–∞:** –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π –∏–ª–∏ —Å–æ–±—ã—Ç–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ —Å timestamp –≤ –ø—Ä–æ—à–ª–æ–º

**–†–µ—à–µ–Ω–∏–µ:**
- –£–≤–µ–ª–∏—á—å—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–æ–±—ã—Ç–∏—è –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º

## SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
```sql
SELECT 
    id,
    reminder_type,
    scheduled_time,
    event_time,
    status,
    NOW() as current_time,
    scheduled_time < NOW() as is_overdue
FROM scheduled_reminders 
WHERE family_id = YOUR_FAMILY_ID
AND status = 'pending'
ORDER BY scheduled_time DESC;
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
```sql
SELECT 
    id,
    reminder_type,
    scheduled_time,
    sent_at,
    sent_count
FROM scheduled_reminders 
WHERE family_id = YOUR_FAMILY_ID
AND status = 'sent'
ORDER BY sent_at DESC
LIMIT 10;
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏
```sql
SELECT * FROM push_subscriptions
WHERE family_id = YOUR_FAMILY_ID;
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ

–°–æ–∑–¥–∞–π—Ç–µ —Å–æ–±—ã—Ç–∏–µ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 1 —á–∞—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ—Ä–º–ª–µ–Ω–∏–µ). –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ ~55 –º–∏–Ω—É—Ç.

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É

–ü–æ–¥–æ–∂–¥–∏—Ç–µ 1 –º–∏–Ω—É—Ç—É –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏.

### –¢–µ—Å—Ç 3: –°–æ–∑–¥–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –Ω–∞ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è

–í—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª –Ω–∞ 0.1 —á–∞—Å–∞ (6 –º–∏–Ω—É—Ç), –¥–æ–±–∞–≤—å—Ç–µ —Å–æ–±—ã—Ç–∏–µ. –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —á–µ—Ä–µ–∑ ~1 –º–∏–Ω—É—Ç—É.

## –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è:

1. –°–æ–±–µ—Ä–∏—Ç–µ –ª–æ–≥–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∑–∞–ø—Ä–æ—Å—ã –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫

